<!DOCTYPE html>
<html lang="es">
<head>
  <!-- ============================================= -->
  <!-- 1. METADATOS Y RECURSOS EXTERNOS (SEO + ESTILOS) -->
  <!-- ============================================= -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Luxe Bag | Bolsos de Lujo Exclusivos</title>
  <meta name="description" content="Explora nuestra colección exclusiva de bolsos de lujo. Elegancia, calidad y estilo en cada diseño.">
  
  <!-- Open Graph / SEO -->
  <meta property="og:title" content="Luxe Bag - Bolsos Exclusivos">
  <meta property="og:description" content="La llave dorada a tu estilo impcable.">
  <meta property="og:image" content="/assets/bolso1.jpg">
  <meta property="og:url" content="https://luxe-bag.vercel.app">
  <meta property="og:type" content="website">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>



  

<!-- ============================================= -->
<!-- 2. HEADER: LOGO, TÍTULO Y REDES SOCIALES -->
<!-- ============================================= -->
<header>
  <div class="header-container">
    <a href="#" class="logo-link">
      <img src="/assets/logo.png" alt="Luxe Bag - Bolsos de Lujo" class="logo">
    </a>
    <div class="header-center">
      <h1 class="title-glow">Luxe Bag</h1>
      <p class="subtitle-fade">Explora nuestra colección exclusiva</p>
    </div>
    <div class="header-right">
      <div class="social-container">
        <div class="social-links">
          <a href="https://www.facebook.com/share/1AmUwFTcSL/" title="Facebook"><i class="fab fa-facebook"></i></a>
          <a href="https://www.instagram.com/gadeal.bolsos_mx?igsh=bG5haWg2MnFreW11" title="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="https://www.tiktok.com/@nynbolsmx?_t=ZS-907LBRsD4wW&_r=1" title="TikTok"><i class="fab fa-tiktok"></i></a>
        </div>
        <div class="whatsapp">
          <a href="https://wa.me/522381724077" target="_blank" rel="noopener">
            <i class="fab fa-whatsapp"></i>
            <span>Contáctanos</span>
          </a>
        </div>
      </div>
      <button id="toggle-dark-mode" class="dark-mode-toggle" title="Cambiar a modo oscuro">
        <i class="fas fa-moon"></i>
        <i class="fas fa-sun"></i>
      </button>
    </div>
  </div>
</header>

<!-- ============================================= -->
<!-- 3. HERO SECTION: CARRUSEL PRINCIPAL + METÁFORA -->
<!-- ============================================= -->
<div class="hero-section">
  <div class="hero-carousel" id="heroCarousel">
    <!-- Contenedor para imágenes -->
    <div class="carousel-inner" id="carouselInner"></div>
    
    <!-- Flechas (ocultas en móvil) -->
    <button class="carousel-control prev" onclick="moverHero(-1)">&#10094;</button>
    <button class="carousel-control next" onclick="moverHero(1)">&#10095;</button>
    
    <!-- Indicadores -->
    <div class="carousel-indicators" id="indicators"></div>
  </div>
</div>






<!-- ============================================= -->
<!-- 4. FILTROS POR CATEGORÍA -->
<!-- ============================================= -->
<div class="filters-container">
  <button class="filter-btn active" data-filter="all">Todos</button>
  <button class="filter-btn" data-filter="elegante">Elegante</button>
  <button class="filter-btn" data-filter="moderno">Moderno</button>
  <button class="filter-btn" data-filter="casual">Casual</button>
</div>

<!-- ============================================= -->
<!-- 5. SECCIÓN DESTACADOS (4 productos top) -->
<!-- ============================================= -->
<div class="section-title">Destacados</div>
<div class="container destacados" id="destacados-container"></div>

<!-- ============================================= -->
<!-- 6. CATÁLOGO COMPLETO (36 productos) -->
<!-- ============================================= -->
<div class="section-title">Catálogo Completo</div>
<div class="container" id="productos-container"></div>

<!-- ============================================= -->
<!-- 7. MODAL: DETALLE + CARRUSEL + CHECKOUT FALSO -->
<!-- ============================================= -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="cerrarModal()">×</span>

    <!-- CARRUSEL -->
    <div class="carousel">
      <button class="carousel-btn left" onclick="moverCarrusel(-1)">&#10094;</button>
      <div class="carousel-track" id="carousel-track"></div>
      <button class="carousel-btn right" onclick="moverCarrusel(1)">&#10095;</button>
    </div>

    <!-- INFO PRODUCTO -->
    <h2 id="modal-titulo"></h2>
    <p id="modal-descripcion"></p>
    <div id="modal-precio" class="price"></div>

    <!-- BOTONES DE ACCIÓN -->
    <div class="modal-actions" id="modalActions"></div>

    <!-- CHECKOUT -->
    <div id="checkoutForm" class="checkout-form" style="display:none;">
      <h3>Realizar Pedido</h3>
      
      <div class="form-group">
        <label>Nombre completo</label>
        <input type="text" id="nombreCliente" placeholder="Juan Pérez" maxlength="50" required>
      </div>

      <div class="form-group">
        <label>Teléfono</label>
        <input type="tel" id="telefonoCliente" placeholder="55 1234 5678" maxlength="15" required>
      </div>

      <div class="form-group">
        <label>Dirección de envío</label>
        <input type="text" id="direccionCliente" placeholder="Calle 123, Col. Centro, CDMX" maxlength="100" required>
      </div>

      <div class="form-group">
        <label>Número de tarjeta</label>
        <input type="text" id="tarjetaNumero" placeholder="1234 5678 9012 3456" maxlength="19" required>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Fecha de vencimiento</label>
          <div class="input-with-slash">
            <input type="text" id="tarjetaMes" placeholder="MM" maxlength="2" required>
            <span>/</span>
            <input type="text" id="tarjetaAnio" placeholder="AA" maxlength="2" required>
          </div>
        </div>
        <div class="form-group">
          <label>CVV</label>
          <input type="text" id="tarjetaCVV" placeholder="123" maxlength="3" required>
        </div>
      </div>

      <button class="btn-pagar-falso" onclick="procesarPagoFalso()">
        <i class="fas fa-lock"></i> Realizar Pedido
      </button>

      <button class="btn-volver" onclick="volverAlModal()">
        <i class="fas fa-chevron-left"></i> Volver al producto
      </button>
    </div>

    <!-- CONFIRMACIÓN -->
    <div id="confirmacionPedido" class="confirmacion-pedido" style="display:none;">
      <i class="fas fa-check-circle confirm-icon"></i>
      <h3>¡Pedido Confirmado!</h3>
      <p>Tu pedido ha sido enviado a WhatsApp.</p>
      <p><strong>Te contactaremos en breve.</strong></p>
      <button class="btn-cerrar-confirm" onclick="cerrarModal()">Cerrar</button>
    </div>
  </div>
</div>

<!-- ============================================= -->
<!-- 8. CARRITO FLOTANTE -->
<!-- ============================================= -->
<div class="cart-float" id="cartFloat">
  <i class="fas fa-shopping-bag"></i>
  <span class="cart-count" id="cartCount">0</span>
</div>

<!-- ============================================= -->
<!-- MINI-CARRITO FLOTANTE (nuevo) -->
<!-- ============================================= -->
<div class="mini-cart" id="miniCart" style="display: none;">
  <div class="mini-cart-header">
    <h3>Tu Carrito <span id="miniCartCount"></span></h3>
    <span class="close-mini-cart" onclick="cerrarMiniCart()">×</span>
  </div>
  <div class="mini-cart-items" id="miniCartItems">
    <!-- Los ítems se agregan con JS -->
  </div>
  <div class="mini-cart-footer">
    <button class="btn-comprar-ahora" onclick="irACheckoutDesdeCarrito()">
      Comprar Ahora
    </button>
  </div>
</div>

<!-- ============================================= -->
<!-- 9. TOAST: NOTIFICACIÓN FLOTANTE -->
<!-- ============================================= -->
<div class="toast" id="toast">
  <i class="fas fa-check-circle"></i>
  <span id="toastText">¡Agregado al carrito!</span>
</div>

<!-- ============================================= -->
<!-- 10. REDES SOCIALES FLOTANTES (LATERAL) -->
<!-- ============================================= -->
<a href="https://wa.me/522381724077?text=¡Hola!%20Vi%20tu%20catálogo%20en%20Luxe%20Bag%20y%20quiero%20más%20info" class="whatsapp-float" target="_blank" rel="noopener"><i class="fab fa-whatsapp"></i></a>

<a href="https://www.instagram.com/gadeal.bolsos_mx?igsh=bG5haWg2MnFreW11" class="instagram-float" target="_blank" rel="noopener"><i class="fab fa-instagram"></i></a>
<a href="https://www.tiktok.com/@nynbolsmx?_t=ZS-907LBRsD4wW&_r=1" class="tiktok-float" target="_blank" rel="noopener"><i class="fab fa-tiktok"></i></a>
<a href="https://www.facebook.com/share/1AmUwFTcSL/" class="facebook-float" target="_blank" rel="noopener">
  <i class="fab fa-facebook-f"></i>
</a>


<!-- ==================================== -->
<!-- SECCIÓN VIDEO FINAL + TEXTO DEBAJO   -->
<!-- ==================================== -->
<section class="video-final-section">
  <div class="video-container">
    <video id="videoFinal" autoplay loop playsinline controls>
      <source src="/assets/video-bolsos.mp4" type="video/mp4">
      <source src="/assets/video-bolsos.webm" type="video/webm">
      Tu navegador no soporta video
    </video>
  </div>

  <!-- Texto bonito debajo del video -->
  <div class="video-texto-debajo">
    <h2>Tu Estilo, Tu Bolso</h2>
    <p>Calidad, diseño y elegancia en cada detalle</p>
    <a href="#productos-container" class="btn-ver-coleccion">Ver Colección</a>
  </div>
</section>









<section class="reviews-section reviews-section">
  <h2 class="section-title">
    Nuestras clientas lo confirman
    <span style="font-size:0.7em; display:block; margin-top:0.5rem; color:#ff6f61; font-weight:400;">
      Más de 5 reseñas de 5 estrellas
    </span>
  </h2>

  <div class="reviews-wrapper">
    <div class="reviews-container">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3784.2749530773976!2d-97.39950252503372!3d18.471200770680927!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85c5bd85a5cc9e67%3A0x3169fb4987345823!2sNema&#39;S%20Tehuac%C3%A1n!5e0!3m2!1ses-419!2smx!4v1763573561200!5m2!1ses-419!2smx" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
        width="100%"
        height="100%"
        style="border:0; border-radius:26px;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
  </div>
</section>







<section class="tiktok-section">
  <h2 class="section-title">Nuestros productos en TikTok</h2>
  
  <div class="tiktok-scroll-container">
    
    <!-- VIDEO 1 -->
    <div class="tiktok-card">
      <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@nynbolsosmx/video/7559776054638939410" data-video-id="7559776054638939410" data-embed-from="embed_v3">
        <section><a target="_blank" rel="noopener noreferrer" href="https://www.tiktok.com/@nynbolsosmx">@nynbolsosmx</a></section>
      </blockquote>
    </div>

    <!-- VIDEO 2 -->
    <div class="tiktok-card">
      <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@nynbolsosmx/video/7571944908710350087" data-video-id="7571944908710350087" data-embed-from="embed_v3">
        <section><a target="_blank" rel="noopener noreferrer" href="https://www.tiktok.com/@nynbolsosmx">@nynbolsosmx</a></section>
      </blockquote>
    </div>

    <!-- VIDEO 3 -->
    <div class="tiktok-card">
      <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@nynbolsosmx/video/7572712783519796488" data-video-id="7572712783519796488" data-embed-from="embed_v3">
        <section><a target="_blank" rel="noopener noreferrer" href="https://www.tiktok.com/@nynbolsosmx">@nynbolsosmx</a></section>
      </blockquote>
    </div>

    <!-- VIDEO 4 -->
    <div class="tiktok-card">
      <blockquote class="tiktok-embed" cite="https://www.tiktok.com/@nynbolsosmx/video/7570478022764055816" data-video-id="7570478022764055816" data-embed-from="embed_v3">
        <section><a target="_blank" rel="noopener noreferrer" href="https://www.tiktok.com/@nynbolsosmx">@nynbolsosmx</a></section>
      </blockquote>
    </div>

  </div>

</section>













<!-- SECCIÓN REDES SOCIALES – FUNCIONA PERFECTO 2025 -->
<section class="social-profiles-section">
  <h2 class="section-title">Síguenos en nuestras redes</h2>
  
  <div class="social-profiles-grid">

    <!-- INSTAGRAM (CORREGIDO) -->
    <div class="social-card">
      <div class="instagram-wrapper">
        <blockquote class="instagram-media" 
          data-instgrm-permalink="https://www.instagram.com/gadeal.bolsos_mx/" 
          data-instgrm-version="14" 
          style="width:100%; max-width:380px; margin:0 auto;">
        </blockquote>
      </div>
    </div>

    <!-- TIKTOK PERFIL (CORREGIDO) -->
    <div class="social-card">
      <div class="tiktok-wrapper">
        <blockquote class="tiktok-embed" 
          cite="https://www.tiktok.com/@nynbolsosmx" 
          data-unique-id="nynbolsosmx" 
          data-embed-type="creator" 
          style="max-width:380px; width:100%;">
          <section>
            <a target="_blank" rel="noopener" href="https://www.tiktok.com/@nynbolsosmx">@nynbolsosmx</a>
          </section>
        </blockquote>
      </div>
    </div>

    <!-- FACEBOOK (CORREGIDO 100% FUNCIONAL) -->
    <div class="social-card">
      <div class="fb-page" 
        data-href="https://www.facebook.com/profile.php?id=61580954326444" 
        data-tabs="timeline" 
        data-width="" 
        data-height="" 
        data-small-header="false" 
        data-adapt-container-width="true" 
        data-hide-cover="false" 
        data-show-facepile="true">
        <blockquote cite="https://www.facebook.com/profile.php?id=61580954326444" class="fb-xfbml-parse-ignore">
          <a href="https://www.facebook.com/profile.php?id=61580954326444">NY&N Bolsos</a>
        </blockquote>
      </div>
    </div>

  </div>
</section>






















<!-- ============================================= -->
<!-- 11. FOOTER -->
<!-- ============================================= -->
<footer>&copy; 2025 Luxe Bag. Todos los derechos reservados.</footer>

<!-- ============================================= -->
<!-- 12. JAVASCRIPT: LÓGICA COMPLETA -->
<!-- ============================================= -->
<script>
  // =============================================
  // 1. TOGGLE MODO OSCURO
  // =============================================
  const toggleButton = document.getElementById('toggle-dark-mode');
  const moonIcon = toggleButton.querySelector('.fa-moon');
  const sunIcon = toggleButton.querySelector('.fa-sun');
  toggleButton.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
    const isDark = document.body.classList.contains('dark-mode');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    moonIcon.style.display = isDark ? 'none' : 'inline';
    sunIcon.style.display = isDark ? 'inline' : 'none';
  });
  if (localStorage.getItem('theme') === 'dark') {
    document.body.classList.add('dark-mode');
    moonIcon.style.display = 'none';
    sunIcon.style.display = 'inline';
  } else {
    moonIcon.style.display = 'inline';
    sunIcon.style.display = 'none';
  }

  // =============================================
  // 2. CARRITO GLOBAL
  // =============================================
  let carrito = [];
  const numeroWhatsApp = "522381724077";

  // Agregar al carrito
  function agregarAlCarrito(titulo, precio, imagen) {
    const existe = carrito.find(p => p.titulo === titulo && p.imagen === imagen);
    if (!existe) {
      carrito.push({ titulo, precio, imagen });
      actualizarContadorCarrito();
      actualizarMiniCart();
      mostrarToast('¡Agregado al carrito!');
    } else {
      mostrarToast('Ya está en el carrito');
    }
  }

  // Actualizar contador
  function actualizarContadorCarrito() {
    const count = carrito.length;
    const el = document.getElementById('cartCount');
    if (el) {
      el.textContent = count;
      el.style.display = count > 0 ? 'flex' : 'none';
    }
    const miniCount = document.getElementById('miniCartCount');
    if (miniCount) miniCount.textContent = count;
  }

  // Mini-carrito: abrir
  document.getElementById('cartFloat').onclick = function(e) {
    e.stopPropagation();
    const mini = document.getElementById('miniCart');
    mini.style.display = mini.style.display === 'block' ? 'none' : 'block';
  };

  // Mini-carrito: cerrar
  function cerrarMiniCart() {
    const mini = document.getElementById('miniCart');
    if (mini) mini.style.display = 'none';
  }

  function actualizarMiniCart() {
  const container = document.getElementById('miniCartItems');
  const footer = document.getElementById('miniCartFooter');
  if (!container) return;

  if (carrito.length === 0) {
    container.innerHTML = '<p style="text-align:center; color:#999; padding:1rem;">Carrito vacío</p>';
    if (footer) footer.style.display = 'none';
    return;
  }

  container.innerHTML = carrito.map((p, i) => `
    <div class="mini-cart-item">
      <img src="${p.imagen}" alt="${p.titulo}">
      <div class="mini-cart-item-info">
        <h4>${p.titulo}</h4>
        <div class="price">$${p.precio}</div>
      </div>
      <button onclick="eliminarDelCarrito(${i})">X</button>
    </div>
  `).join('');

  if (footer) footer.style.display = 'block';
  }

  // Eliminar
  function eliminarDelCarrito(index) {
    carrito.splice(index, 1);
    actualizarContadorCarrito();
    actualizarMiniCart();
    mostrarToast('Eliminado del carrito');
  }

  function irACheckoutDesdeCarrito() {
  if (carrito.length === 0) {
    mostrarToast('El carrito está vacío');
    return;
  }

  cerrarMiniCart();

  const primerProducto = carrito[0];
  abrirModal(
    [primerProducto.imagen], 
    primerProducto.titulo, 
    "Carrito múltiple", 
    `$${carrito.reduce((s, p) => s + p.precio, 0)}`, 
    carrito.reduce((s, p) => s + p.precio, 0)
  );

  setTimeout(() => {
    prepararCheckout(carrito);
  }, 100);
  }

  

  // =============================================
  // 3. PRODUCTOS
  // =============================================
  const productos = [
    { img: ['/assets/bolso1.jpg','/assets/bolso1(2).jpg','/assets/bolso1(3).jpg'], titulo: 'Bolso Elegante', desc: 'Bolso de cuero con diseño clásico', precio: '$1,899', k: 'elegante' },
    { img: ['/assets/bolso2.jpg','/assets/bolso2(2).jpg'], titulo: 'Bolso Moderno', desc: 'Estilo contemporáneo y colores vivos', precio: '$1,299', k: 'moderno' },
    { img: ['/assets/bolso3.jpg','/assets/bolso3(2).jpg'], titulo: 'Bolso Casual', desc: 'Perfecto para uso diario', precio: '$699', k: 'casual' },
  ];
  for (let i = 4; i <= 36; i++) {
    const cat = i <= 5 ? 'elegante' : i <= 10 ? 'moderno' : 'casual';
    const imgs = [`/assets/bolso${i}.jpg`];
    if (![8,9,10,11,12,13,14,15,17,18,19,20,21,22,23,24,25,26,27,28,30,31,32,33,34,35,36].includes(i)) {
      imgs.push(`/assets/bolso${i}(2).jpg`);
    }
    if (i === 29) imgs[1] = '/assets/bolso29(2).jpg';
    const precios = cat === 'elegante' ? [1899,1799,1699,1599,1499,1399] :
                    cat === 'moderno' ? [1299,1199,1099,999,899,799] :
                    [699,649,599,749,849,949,799];
    const precio = precios[(i-1) % precios.length];
    const titulo = i <= 3 ? ['Bolso Elegante','Bolso Moderno','Bolso Casual'][i-1] : 'Bolso ' + cat.charAt(0).toUpperCase() + cat.slice(1);
    productos.push({ img: imgs, titulo, desc: 'Perfecto para uso diario', precio: `$${precio}`, k: cat });
  }

  // =============================================
  // 4. RENDERIZAR PRODUCTOS
  // =============================================
  const destacadosContainer = document.getElementById('destacados-container');
  const container = document.getElementById('productos-container');

  productos.forEach((p, i) => {
    const precioNum = parseFloat(p.precio.replace('$', '').replace(',', ''));
    const card = document.createElement('div');
    card.className = 'card' + (i < 4 ? ' destacado' : '');
    card.dataset.category = p.k;
    card.onclick = () => abrirModal(p.img, p.titulo, p.desc, p.precio, precioNum);
    card.innerHTML = `
      ${i < 4 ? '<div class="badge">Destacado</div>' : ''}
      <img src="${p.img[0]}" loading="lazy">
      <div class="card-body">
        <h2>${p.titulo}</h2>
        <p>${p.desc}</p>
        <div class="price">${p.precio}</div>
      </div>
    `;
    (i < 4 ? destacadosContainer : container).appendChild(card);
  });

  // =============================================
  // 5. FILTROS
  // =============================================
  document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      const filter = btn.dataset.filter;
      document.querySelectorAll('.card').forEach(card => {
        card.style.display = (filter === 'all' || card.dataset.category === filter) ? 'block' : 'none';
      });
    });
  });

  // =============================================
  // 6. CARRUSEL HERO (SIN CAMBIOS)
  // =============================================
  const imagenesHero = Array.from({length: 36}, (_, i) => `/assets/bolso${i + 1}.jpg`);
  let indiceHero = 0;
  let intervaloHero;
  const carouselInner = document.getElementById('carouselInner');
  const indicatorsContainer = document.getElementById('indicators');
  const esMovil = window.innerWidth <= 768;

  imagenesHero.forEach((src, i) => {
    const item = document.createElement('div');
    item.className = 'carousel-item';
    if (i === 0) item.classList.add('active');
    item.innerHTML = `<img src="${src}" alt="Bolso ${i+1}" loading="lazy"><div class="carousel-caption">Bolso ${i+1}</div>`;
    carouselInner.appendChild(item);

    const dot = document.createElement('span');
    dot.onclick = () => irAIndice(i);
    if (i === 0) dot.classList.add('active');
    indicatorsContainer.appendChild(dot);
  });

  const items = document.querySelectorAll('.carousel-item');
  const indicators = document.querySelectorAll('#indicators span');

  function actualizarCarrusel() {
    if (!esMovil) {
      const offset = -indiceHero * (items[0].offsetWidth + 16);
      carouselInner.style.transform = `translateX(${offset}px)`;
    } else {
      document.getElementById('heroCarousel').scrollLeft = indiceHero * (items[0].offsetWidth + 16);
    }
    indicators.forEach((d, i) => d.classList.toggle('active', i === indiceHero));
  }

  function moverHero(dir) {
    indiceHero = Math.max(0, Math.min(imagenesHero.length - 1, indiceHero + dir));
    actualizarCarrusel();
    reiniciarIntervalo();
  }

  function irAIndice(n) {
    indiceHero = n;
    actualizarCarrusel();
    reiniciarIntervalo();
  }

  function iniciarIntervalo() {
    intervaloHero = setInterval(() => moverHero(1), 3000);
  }

  function reiniciarIntervalo() {
    clearInterval(intervaloHero);
    iniciarIntervalo();
  }

  document.getElementById('heroCarousel').addEventListener('mouseenter', () => clearInterval(intervaloHero));
  document.getElementById('heroCarousel').addEventListener('mouseleave', iniciarIntervalo);

  let startX = 0;
  document.getElementById('heroCarousel').addEventListener('touchstart', (e) => {
    startX = e.touches[0].clientX;
    clearInterval(intervaloHero);
  });
  document.getElementById('heroCarousel').addEventListener('touchend', (e) => {
    const endX = e.changedTouches[0].clientX;
    const diffX = startX - endX;
    if (Math.abs(diffX) > 50) moverHero(diffX > 0 ? 1 : -1);
    setTimeout(iniciarIntervalo, 2000);
  });

  actualizarCarrusel();
  iniciarIntervalo();


  

  // =============================================
  // 7. MODAL + CHECKOUT
  // =============================================
  let imagenesCarrusel = [], indiceActual = 0;

  function abrirModal(imagenes, titulo, descripcion, precio, precioNum) {
    imagenesCarrusel = imagenes;
    indiceActual = 0;
    const track = document.getElementById('carousel-track');
    track.innerHTML = imagenes.map(src => `<img src="${src}" loading="lazy">`).join('');
    track.style.transform = 'translateX(0)';
    document.getElementById('modal-titulo').innerText = titulo;
    document.getElementById('modal-descripcion').innerText = descripcion;

    document.getElementById('modalActions').innerHTML = `
      <div class="price">${precio}</div>
      <div class="modal-actions">
        <button class="btn-add-cart" onclick="agregarAlCarrito('${titulo}', ${precioNum}, '${imagenes[0]}')">
          <i class="fas fa-cart-plus"></i> Agregar al Carrito
        </button>
        <button class="btn-pagar-ahora" onclick="comprarAhora('${titulo}', ${precioNum}, '${imagenes[0]}')">
          <i class="fas fa-bolt"></i> Comprar Ahora
        </button>
        <a href="https://wa.me/${numeroWhatsApp}?text=¡Hola!%20Quiero%20el%20*${encodeURIComponent(titulo)}*%20por%20${precio}" class="btn-whatsapp" target="_blank" rel="noopener">
          <i class="fab fa-whatsapp"></i> Preguntar
        </a>
      </div>
    `;
    document.getElementById('modal').style.display = 'block';
    document.getElementById('checkoutForm').style.display = 'none';
    document.getElementById('confirmacionPedido').style.display = 'none';
  }

  function comprarAhora(titulo, precio, imagen) {
  const producto = [{ titulo, precio, imagen }];
  prepararCheckout(producto);
  }

  function prepararCheckout(productosArray) {
  document.getElementById('modalActions').style.display = 'none';
  const form = document.getElementById('checkoutForm');
  form.style.display = 'block';

  const total = productosArray.reduce((s, p) => s + p.precio, 0);
  const count = productosArray.length;

  if (count === 1) {
    form.querySelector('h3').innerHTML = 
      `Pagar: <strong>${productosArray[0].titulo}</strong> - $${productosArray[0].precio}`;
  } else {
    form.querySelector('h3').innerHTML = 
      `Pagar <strong>${count}</strong> producto${count > 1 ? 's' : ''} - Total: <strong>$${total}</strong>`;
  }

  window.datosCarrito = { productos: productosArray, total };
  }


  function cerrarModal() {
    document.getElementById('modal').style.display = 'none';
  }

  function moverCarrusel(dir) {
    indiceActual = (indiceActual + dir + imagenesCarrusel.length) % imagenesCarrusel.length;
    document.getElementById('carousel-track').style.transform = `translateX(-${indiceActual * 100}%)`;
  }

  // UN SOLO EVENTO GLOBAL
  document.addEventListener('click', function(e) {
    const modal = document.getElementById('modal');
    const mini = document.getElementById('miniCart');
    const cartFloat = document.getElementById('cartFloat');

    if (e.target === modal) cerrarModal();
    if (e.target === mini) cerrarMiniCart();
    if (mini && mini.style.display === 'block' && !cartFloat.contains(e.target) && !mini.contains(e.target)) {
      cerrarMiniCart();
    }
  });

  function mostrarToast(mensaje) {
    const toast = document.getElementById('toast');
    if (!toast) return;
    document.getElementById('toastText').textContent = mensaje;
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), 3000);
  }

  function volverAlModal() {
    document.getElementById('checkoutForm').style.display = 'none';
    document.getElementById('modalActions').style.display = 'block';
  }

  // Formato tarjeta
  ['tarjetaNumero', 'tarjetaMes', 'tarjetaAnio'].forEach(id => {
    document.getElementById(id).addEventListener('input', function(e) {
      let v = e.target.value.replace(/\D/g, '');
      if (id === 'tarjetaNumero') {
        let parts = [];
        for (let i = 0; i < v.length; i += 4) parts.push(v.substring(i, i + 4));
        e.target.value = parts.join(' ').substring(0, 19);
      } else if (id === 'tarjetaMes') {
        v = v.substring(0, 2);
        if (v && parseInt(v) > 12) v = '12';
        e.target.value = v;
      } else {
        e.target.value = v.substring(0, 2);
      }
    });
  });

  // PROCESAR PAGO
  function procesarPagoFalso() {
    const inputs = ['nombreCliente','telefonoCliente','direccionCliente','tarjetaNumero','tarjetaMes','tarjetaAnio','tarjetaCVV'];
    if (inputs.some(id => !document.getElementById(id).value.trim())) {
      mostrarToast('¡Completa todos los campos!');
      return;
    }

    const btn = document.querySelector('.btn-pagar-falso');
    btn.innerHTML = 'Procesando...';
    btn.disabled = true;

    setTimeout(() => {
      const data = {
        nombre: document.getElementById('nombreCliente').value,
        tel: document.getElementById('telefonoCliente').value,
        dir: document.getElementById('direccionCliente').value,
        tarjeta: document.getElementById('tarjetaNumero').value.replace(/\s/g, '').slice(-4)
      };

      const prods = window.datosCarrito.productos;
      const total = window.datosCarrito.total;
      const lista = prods.map(p => `*${p.titulo}* - $${p.precio}`).join('%0A');
      const msg = `*¡NUEVO PEDIDO${prods.length > 1 ? ' MÚLTIPLE' : ''}!*%0A%0A*Productos:*%0A${lista}%0A%0A*Total:* $${total}%0A%0A*Cliente:* ${data.nombre}%0A*Tel:* ${data.tel}%0A*Dirección:* ${data.dir}%0A%0A*Pago simulado*`;

      window.open(`https://wa.me/${numeroWhatsApp}?text=${msg}`, '_blank');
      
      document.getElementById('checkoutForm').style.display = 'none';
      document.getElementById('confirmacionPedido').style.display = 'block';
      btn.innerHTML = 'Pagar con Tarjeta';
      btn.disabled = false;
    }, 2000);
  }
      
 


 


</script>


<div id="fb-root"></div>

<script async defer crossorigin="anonymous" 
  src="https://connect.facebook.net/es_LA/sdk.js#xfbml=1&version=v20.0"></script>

<script async src="https://www.tiktok.com/embed.js"></script>

<script async src="https://www.instagram.com/embed.js"></script>










<script type="text/javascript">
  window.$crisp = [];
  window.CRISP_WEBSITE_ID = "d89c2ef9-c7c5-410c-b5cb-2c4deef09f1c";
  (function() {
    var d = document;
    var s = d.createElement("script");
    s.src = "https://client.crisp.chat/l.js";
    s.async = 1;
    d.getElementsByTagName("head")[0].appendChild(s);
  })();
</script>










</body>
</html>






